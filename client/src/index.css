@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Jost:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');

/* Ollie Wollie Font Family */
@font-face {
  font-family: 'Ollie Wollie';
  src: url('/fonts/OllieWollie-Regular.ttf');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: hsl(240, 10%, 4%);
  --foreground: hsl(0, 0%, 98%);
  --card: hsl(240, 10%, 8%);
  --card-foreground: hsl(0, 0%, 95%);
  --popover: hsl(240, 10%, 8%);
  --popover-foreground: hsl(0, 0%, 95%);
  --primary: hsl(180, 100%, 50%);
  --primary-foreground: hsl(240, 10%, 4%);
  --secondary: hsl(280, 100%, 70%);
  --secondary-foreground: hsl(0, 0%, 98%);
  --muted: hsl(240, 5%, 25%);
  --muted-foreground: hsl(0, 0%, 63%);
  --accent: hsl(280, 100%, 70%);
  --accent-foreground: hsl(240, 10%, 4%);
  --destructive: hsl(0, 63%, 31%);
  --destructive-foreground: hsl(0, 0%, 98%);
  --border: hsl(240, 6%, 20%);
  --input: hsl(240, 6%, 20%);
  --ring: hsl(180, 100%, 50%);
  --chart-1: hsl(180, 100%, 50%);
  --chart-2: hsl(280, 100%, 70%);
  --chart-3: hsl(25, 100%, 60%);
  --chart-4: hsl(45, 100%, 65%);
  --chart-5: hsl(320, 100%, 60%);
  --sidebar: hsl(240, 10%, 8%);
  --sidebar-foreground: hsl(0, 0%, 95%);
  --sidebar-primary: hsl(180, 100%, 50%);
  --sidebar-primary-foreground: hsl(240, 10%, 4%);
  --sidebar-accent: hsl(240, 6%, 20%);
  --sidebar-accent-foreground: hsl(0, 0%, 95%);
  --sidebar-border: hsl(240, 6%, 20%);
  --sidebar-ring: hsl(180, 100%, 50%);
  --font-sans: Inter, system-ui, sans-serif;
  --font-serif: Georgia, serif;
  --font-mono: Menlo, monospace;
  --font-neon: 'Ollie Wollie', 'Jost', sans-serif;
  --radius: 0.75rem;
  --shadow-2xs: 0px 2px 0px 0px hsl(180, 100%, 50%, 0.00);
  --shadow-xs: 0px 2px 0px 0px hsl(180, 100%, 50%, 0.00);
  --shadow-sm: 0px 2px 0px 0px hsl(180, 100%, 50%, 0.00), 0px 1px 2px -1px hsl(180, 100%, 50%, 0.00);
  --shadow: 0px 2px 0px 0px hsl(180, 100%, 50%, 0.00), 0px 1px 2px -1px hsl(180, 100%, 50%, 0.00);
  --shadow-md: 0px 2px 0px 0px hsl(180, 100%, 50%, 0.00), 0px 2px 4px -1px hsl(180, 100%, 50%, 0.00);
  --shadow-lg: 0px 2px 0px 0px hsl(180, 100%, 50%, 0.00), 0px 4px 6px -1px hsl(180, 100%, 50%, 0.00);
  --shadow-xl: 0px 2px 0px 0px hsl(180, 100%, 50%, 0.00), 0px 8px 10px -1px hsl(180, 100%, 50%, 0.00);
  --shadow-2xl: 0px 2px 0px 0px hsl(180, 100%, 50%, 0.00);
  --tracking-normal: 0em;
  --spacing: 0.25rem;
}

.dark {
  --background: hsl(240, 10%, 4%);
  --foreground: hsl(0, 0%, 98%);
  --card: hsl(240, 10%, 8%);
  --card-foreground: hsl(0, 0%, 95%);
  --popover: hsl(240, 10%, 8%);
  --popover-foreground: hsl(0, 0%, 95%);
  --primary: hsl(180, 100%, 50%);
  --primary-foreground: hsl(240, 10%, 4%);
  --secondary: hsl(280, 100%, 70%);
  --secondary-foreground: hsl(0, 0%, 98%);
  --muted: hsl(240, 5%, 25%);
  --muted-foreground: hsl(0, 0%, 63%);
  --accent: hsl(280, 100%, 70%);
  --accent-foreground: hsl(240, 10%, 4%);
  --destructive: hsl(0, 63%, 31%);
  --destructive-foreground: hsl(0, 0%, 98%);
  --border: hsl(240, 6%, 20%);
  --input: hsl(240, 6%, 20%);
  --ring: hsl(180, 100%, 50%);
  --chart-1: hsl(180, 100%, 50%);
  --chart-2: hsl(280, 100%, 70%);
  --chart-3: hsl(25, 100%, 60%);
  --chart-4: hsl(45, 100%, 65%);
  --chart-5: hsl(320, 100%, 60%);
  --sidebar: hsl(240, 10%, 8%);
  --sidebar-foreground: hsl(0, 0%, 95%);
  --sidebar-primary: hsl(180, 100%, 50%);
  --sidebar-primary-foreground: hsl(240, 10%, 4%);
  --sidebar-accent: hsl(240, 6%, 20%);
  --sidebar-accent-foreground: hsl(0, 0%, 95%);
  --sidebar-border: hsl(240, 6%, 20%);
  --sidebar-ring: hsl(180, 100%, 50%);
  --font-sans: Inter, system-ui, sans-serif;
  --font-serif: Georgia, serif;
  --font-mono: Menlo, monospace;
  --font-neon: 'Ollie Wollie', 'Jost', sans-serif;
  --radius: 0.75rem;
  --shadow-2xs: 0px 2px 0px 0px hsl(180, 100%, 50%, 0.00);
  --shadow-xs: 0px 2px 0px 0px hsl(180, 100%, 50%, 0.00);
  --shadow-sm: 0px 2px 0px 0px hsl(180, 100%, 50%, 0.00), 0px 1px 2px -1px hsl(180, 100%, 50%, 0.00);
  --shadow: 0px 2px 0px 0px hsl(180, 100%, 50%, 0.00), 0px 1px 2px -1px hsl(180, 100%, 50%, 0.00);
  --shadow-md: 0px 2px 0px 0px hsl(180, 100%, 50%, 0.00), 0px 2px 4px -1px hsl(180, 100%, 50%, 0.00);
  --shadow-lg: 0px 2px 0px 0px hsl(180, 100%, 50%, 0.00), 0px 4px 6px -1px hsl(180, 100%, 50%, 0.00);
  --shadow-xl: 0px 2px 0px 0px hsl(180, 100%, 50%, 0.00), 0px 8px 10px -1px hsl(180, 100%, 50%, 0.00);
  --shadow-2xl: 0px 2px 0px 0px hsl(180, 100%, 50%, 0.00);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-neon antialiased bg-background text-foreground;
    overflow-x: hidden;
    /* Prevent layout shift on mobile rotation */
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }

  html {
    scroll-behavior: smooth;
    /* Stabilize viewport height on mobile */
    height: 100%;
    min-height: 100vh;
    min-height: 100dvh;
  }
  
  /* Mobile-specific fixes for rotation stability */
  @media (max-width: 768px) {
    body {
      min-height: 100vh;
      min-height: 100dvh;
      position: relative;
      overscroll-behavior-y: none; /* Prevent pull-to-refresh interference */
    }
    
    /* Prevent touch callout on long press */
    * {
      -webkit-touch-callout: none;
      -webkit-tap-highlight-color: transparent;
    }
    
    /* Fix dialog scrolling on mobile */
    [role="dialog"] {
      -webkit-overflow-scrolling: touch;
      overscroll-behavior: contain;
    }
    
    /* Safari iOS optimization - reduce animation complexity */
    .carousel-slides {
      -webkit-transform: translateZ(0);
      transform: translateZ(0);
      backface-visibility: hidden;
      -webkit-backface-visibility: hidden;
    }
    
    /* Optimize carousel slides for Safari memory */
    .carousel-slide {
      -webkit-transform: translateZ(0);
      transform: translateZ(0);
      backface-visibility: hidden;
      -webkit-backface-visibility: hidden;
    }
  }
}

@layer components {
  /* White Neon Effects */
  .neon-text {
    font-family: var(--font-neon);
    color: white;
    text-shadow: 
      0 0 5px rgba(255, 255, 255, 0.8),
      0 0 10px rgba(255, 255, 255, 0.6),
      0 0 20px rgba(255, 255, 255, 0.4),
      0 0 40px rgba(255, 255, 255, 0.2);
    -webkit-animation: white-neon-flicker 2s ease-in-out infinite alternate;
    -moz-animation: white-neon-flicker 2s ease-in-out infinite alternate;
    animation: white-neon-flicker 2s ease-in-out infinite alternate;
    font-weight: 500;
  }


  /* White Neon Text Effect */
  .pink-neon-text {
    font-family: var(--font-neon);
    color: white;
    text-shadow: 
      0 0 5px rgba(255, 255, 255, 0.8),
      0 0 10px rgba(255, 255, 255, 0.6),
      0 0 20px rgba(255, 255, 255, 0.4),
      0 0 40px rgba(255, 255, 255, 0.2);
    -webkit-animation: white-neon-flicker 2s ease-in-out infinite alternate;
    -moz-animation: white-neon-flicker 2s ease-in-out infinite alternate;
    animation: white-neon-flicker 2s ease-in-out infinite alternate;
    font-weight: 500;
  }

  @-webkit-keyframes white-neon-flicker {
    0%, 100% {
      text-shadow: 
        0 0 5px rgba(255, 255, 255, 0.8),
        0 0 10px rgba(255, 255, 255, 0.6),
        0 0 20px rgba(255, 255, 255, 0.4),
        0 0 40px rgba(255, 255, 255, 0.2);
    }
    50% {
      text-shadow: 
        0 0 2px rgba(255, 255, 255, 0.6),
        0 0 5px rgba(255, 255, 255, 0.4),
        0 0 10px rgba(255, 255, 255, 0.3),
        0 0 20px rgba(255, 255, 255, 0.1);
    }
  }
  @-moz-keyframes white-neon-flicker {
    0%, 100% {
      text-shadow: 
        0 0 5px rgba(255, 255, 255, 0.8),
        0 0 10px rgba(255, 255, 255, 0.6),
        0 0 20px rgba(255, 255, 255, 0.4),
        0 0 40px rgba(255, 255, 255, 0.2);
    }
    50% {
      text-shadow: 
        0 0 2px rgba(255, 255, 255, 0.6),
        0 0 5px rgba(255, 255, 255, 0.4),
        0 0 10px rgba(255, 255, 255, 0.3),
        0 0 20px rgba(255, 255, 255, 0.1);
    }
  }
  @keyframes white-neon-flicker {
    0%, 100% {
      text-shadow: 
        0 0 5px rgba(255, 255, 255, 0.8),
        0 0 10px rgba(255, 255, 255, 0.6),
        0 0 20px rgba(255, 255, 255, 0.4),
        0 0 40px rgba(255, 255, 255, 0.2);
    }
    50% {
      text-shadow: 
        0 0 2px rgba(255, 255, 255, 0.6),
        0 0 5px rgba(255, 255, 255, 0.4),
        0 0 10px rgba(255, 255, 255, 0.3),
        0 0 20px rgba(255, 255, 255, 0.1);
    }
  }

  /* Glass Cards - Solid Background */
  .glass-card {
    background: rgba(0, 0, 0, 0.9);
    border: 1px solid rgba(255, 255, 255, 0.2);
    transition: all 0.3s ease;
  }

  .glass-card:hover {
    background: rgba(0, 0, 0, 1);
    -webkit-transform: translateY(-5px);
    -moz-transform: translateY(-5px);
    -ms-transform: translateY(-5px);
    transform: translateY(-5px);
    box-shadow: 0 20px 40px rgba(0, 255, 255, 0.1);
  }

  /* Background Carousel */
  .carousel-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    height: 100dvh; /* Use dynamic viewport height for mobile */
    z-index: -1;
    overflow: hidden;
    touch-action: none; /* Prevent touch interference on mobile */
    pointer-events: none; /* Background shouldn't interfere with interactions */
  }

  .carousel-slides {
    display: -webkit-flex;
    display: -moz-flex;
    display: -ms-flexbox;
    display: flex;
    width: 1800%; /* Total width for 18 images - mobile optimized */
    height: 100%;
    -webkit-animation: carousel 180s infinite linear;
    -moz-animation: carousel 180s infinite linear;
    animation: carousel 180s infinite linear;
    will-change: transform; /* Optimize for animation performance */
  }

  .carousel-slide {
    width: 100vw; /* Each slide takes full viewport width */
    height: 100vh;
    height: 100dvh; /* Use dynamic viewport height for mobile */
    background-size: cover;
    background-position: center;
    opacity: 0.3;
    background-repeat: no-repeat;
    -webkit-flex-shrink: 0;
    -moz-flex-shrink: 0;
    -ms-flex-negative: 0;
    flex-shrink: 0;
    -webkit-filter: brightness(1.1) contrast(1.1);
    filter: brightness(1.1) contrast(1.1);
  }

  @-webkit-keyframes carousel {
    0% { -webkit-transform: translateX(0); transform: translateX(0); }
    100% { -webkit-transform: translateX(-1700vw); transform: translateX(-1700vw); }
  }
  @-moz-keyframes carousel {
    0% { -moz-transform: translateX(0); transform: translateX(0); }
    100% { -moz-transform: translateX(-1700vw); transform: translateX(-1700vw); }
  }
  @keyframes carousel {
    0% { -webkit-transform: translateX(0); -moz-transform: translateX(0); transform: translateX(0); }
    100% { -webkit-transform: translateX(-1700vw); -moz-transform: translateX(-1700vw); transform: translateX(-1700vw); }
  }

  /* Gradient Overlays */
  .gradient-overlay {
    background: linear-gradient(135deg, 
      hsl(240, 100%, 20%) 0%, 
      hsl(280, 100%, 20%) 25%, 
      hsl(320, 100%, 25%) 50%, 
      hsl(25, 100%, 30%) 75%, 
      hsl(45, 100%, 35%) 100%);
    opacity: 0.8;
  }

  /* Line clamp utility - Cross-browser compatible */
  .line-clamp-5 {
    /* Standard line-clamp for modern browsers */
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 5;
    line-clamp: 5;
    
    /* Fallback for older browsers */
    max-height: 7.5em; /* Approximately 5 lines with 1.5em line-height */
    line-height: 1.5em;
    position: relative;
  }
  
  /* Firefox-specific approach (Firefox 68+) */
  @supports (-moz-appearance: none) and (not (-webkit-line-clamp: 5)) {
    .line-clamp-5 {
      display: block;
      max-height: 7.5em;
      overflow: hidden;
      line-height: 1.5em;
      position: relative;
    }
    
    /* Add ellipsis with pseudo-element for Firefox */
    .line-clamp-5::after {
      content: '...';
      position: absolute;
      bottom: 0;
      right: 0;
      padding-left: 0.25em;
      background: linear-gradient(to right, transparent, var(--background) 50%);
      width: 1.5em;
    }
  }
  
  /* Modern browsers with native line-clamp support */
  @supports (line-clamp: 5) or (-webkit-line-clamp: 5) {
    .line-clamp-5 {
      display: -webkit-box;
      -webkit-box-orient: vertical;
      -webkit-line-clamp: 5;
      line-clamp: 5;
      overflow: hidden;
      max-height: none;
    }
    
    .line-clamp-5::after {
      display: none; /* Hide the pseudo-element ellipsis */
    }
  }

  /* Floating Shapes */
  .floating-shape {
    position: absolute;
    opacity: 0.1;
    -webkit-animation: float 20s ease-in-out infinite;
    -moz-animation: float 20s ease-in-out infinite;
    animation: float 20s ease-in-out infinite;
  }

  .floating-shape:nth-child(1) { -webkit-animation-delay: 0s; -moz-animation-delay: 0s; animation-delay: 0s; }
  .floating-shape:nth-child(2) { -webkit-animation-delay: -5s; -moz-animation-delay: -5s; animation-delay: -5s; }
  .floating-shape:nth-child(3) { -webkit-animation-delay: -10s; -moz-animation-delay: -10s; animation-delay: -10s; }

  @-webkit-keyframes float {
    0%, 100% { -webkit-transform: translateY(0px) rotate(0deg); transform: translateY(0px) rotate(0deg); }
    25% { -webkit-transform: translateY(-100px) rotate(90deg); transform: translateY(-100px) rotate(90deg); }
    50% { -webkit-transform: translateY(-50px) rotate(180deg); transform: translateY(-50px) rotate(180deg); }
    75% { -webkit-transform: translateY(-150px) rotate(270deg); transform: translateY(-150px) rotate(270deg); }
  }
  @-moz-keyframes float {
    0%, 100% { -moz-transform: translateY(0px) rotate(0deg); transform: translateY(0px) rotate(0deg); }
    25% { -moz-transform: translateY(-100px) rotate(90deg); transform: translateY(-100px) rotate(90deg); }
    50% { -moz-transform: translateY(-50px) rotate(180deg); transform: translateY(-50px) rotate(180deg); }
    75% { -moz-transform: translateY(-150px) rotate(270deg); transform: translateY(-150px) rotate(270deg); }
  }
  @keyframes float {
    0%, 100% { -webkit-transform: translateY(0px) rotate(0deg); -moz-transform: translateY(0px) rotate(0deg); transform: translateY(0px) rotate(0deg); }
    25% { -webkit-transform: translateY(-100px) rotate(90deg); -moz-transform: translateY(-100px) rotate(90deg); transform: translateY(-100px) rotate(90deg); }
    50% { -webkit-transform: translateY(-50px) rotate(180deg); -moz-transform: translateY(-50px) rotate(180deg); transform: translateY(-50px) rotate(180deg); }
    75% { -webkit-transform: translateY(-150px) rotate(270deg); -moz-transform: translateY(-150px) rotate(270deg); transform: translateY(-150px) rotate(270deg); }
  }

  /* Service Icons Glow */
  .service-icon {
    transition: all 0.3s ease;
  }

  .service-icon:hover {
    color: var(--primary);
    text-shadow: 0 0 10px var(--primary);
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    transform: scale(1.1);
  }

  /* Animation Classes */
  @-webkit-keyframes fadeInUp {
    from {
      opacity: 0;
      -webkit-transform: translateY(30px);
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      -webkit-transform: translateY(0);
      transform: translateY(0);
    }
  }
  @-moz-keyframes fadeInUp {
    from {
      opacity: 0;
      -moz-transform: translateY(30px);
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      -moz-transform: translateY(0);
      transform: translateY(0);
    }
  }
  @keyframes fadeInUp {
    from {
      opacity: 0;
      -webkit-transform: translateY(30px);
      -moz-transform: translateY(30px);
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      -webkit-transform: translateY(0);
      -moz-transform: translateY(0);
      transform: translateY(0);
    }
  }

  .fade-in-up {
    -webkit-animation: fadeInUp 0.6s ease-out forwards;
    -moz-animation: fadeInUp 0.6s ease-out forwards;
    animation: fadeInUp 0.6s ease-out forwards;
  }

  .animate-delay-100 { -webkit-animation-delay: 0.1s; -moz-animation-delay: 0.1s; animation-delay: 0.1s; }
  .animate-delay-200 { -webkit-animation-delay: 0.2s; -moz-animation-delay: 0.2s; animation-delay: 0.2s; }
  .animate-delay-300 { -webkit-animation-delay: 0.3s; -moz-animation-delay: 0.3s; animation-delay: 0.3s; }
  .animate-delay-500 { -webkit-animation-delay: 0.5s; -moz-animation-delay: 0.5s; animation-delay: 0.5s; }
  
  /* Brand Gallery Component Styles - Hide scrollbars */
  .brand-gallery-container::-webkit-scrollbar {
    display: none;
  }

  /* Brand Window - Full height image container */
  .brand-window {
    height: clamp(500px, 60vh, 1000px); /* Mobile: 500px to 1000px based on viewport */
  }

  @media (min-width: 768px) {
    .brand-window {
      height: clamp(550px, 65vh, 1050px); /* Tablet: 550px to 1050px */
    }
  }

  @media (min-width: 1024px) {
    .brand-window {
      height: clamp(600px, 70vh, 1100px); /* Desktop: 600px to 1100px */
    }
  }

  /* All images inside .brand-window automatically fill height and crop width */
  .brand-window img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center 25%; /* Keep light fittings slightly above center */
  }
}
